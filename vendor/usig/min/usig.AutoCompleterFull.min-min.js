jQuery.extendIf=function(e,t){if(e&&t)for(var i in t)"undefined"==typeof e[i]&&(e[i]=t[i]);return e},"undefined"==typeof Ext&&(jQuery.extend(Function.prototype,{createCallback:function(){var e=arguments,t=this;return function(){return t.apply(window,e)}},createDelegate:function(e,t,i){var n=this;return function(){var r=t||arguments;if(i===!0)r=Array.prototype.slice.call(arguments,0),r=r.concat(t);else if("number"==typeof i){r=Array.prototype.slice.call(arguments,0);var o=[i,0].concat(t);Array.prototype.splice.apply(r,o)}return n.apply(e||window,r)}},defer:function(e,t,i,n){var r=this.createDelegate(t,i,n);return e?setTimeout(r,e):(r(),0)},createSequence:function(e,t){if("function"!=typeof e)return this;var i=this;return function(){var n=i.apply(this||window,arguments);return e.apply(t||this||window,arguments),n}},createInterceptor:function(e,t){if("function"!=typeof e)return this;var i=this;return function(){return e.target=this,e.method=i,e.apply(t||this||window,arguments)!==!1?i.apply(this||window,arguments):void 0}}}),jQuery.extendIf(String,{escape:function(e){return e.replace(/('|\\)/g,"\\$1")},leftPad:function(e,t,i){var n=new String(e);for(i||(i=" ");n.length<t;)n=i+n;return n.toString()},format:function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})}})),String.prototype.isInteger=function(){return!isNaN(parseInt(this))},String.prototype.isFloat=function(){return!isNaN(parseFloat(this))},String.prototype.toggle=function(e,t){return this==e?t:e},String.prototype.trim=function(){var e=/^\s+|\s+$/g;return function(){return this.replace(e,"")}}(),String.prototype.translate=function(e,t){if(!e.length||!t.length||e.length!=t.length)return this;for(var i=this,n=0;n<e.length;n++)i="string"==typeof e?i.replace(new RegExp(e.charAt(n),"g"),t.charAt(n)):i.replace(new RegExp(e[n],"g"),t[n]);return i},String.prototype.isDigit=function(){return/^\d+$/.test(this)},String.prototype.removeWords=function(e){for(var t=this.split(" "),i=new Array,n=0;n<t.length;n++){i.push(t[n]);for(var r=0;r<e.length;r++)if(i[n]==e[r]){i.pop();break}}return i.join(" ")},jQuery.extendIf(Number.prototype,{constrain:function(e,t){return Math.min(Math.max(this,e),t)},isInteger:function(){return!isNaN(parseInt(this))},isFloat:function(){return!isNaN(parseFloat(this))}}),jQuery.extendIf(Array.prototype,{indexOf:function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]==e)return t;return-1},removeObject:function(e){var t=this.indexOf(e);return-1!=t&&this.splice(t,1),this},binarySearch:function e(t,i){for(var n=0,r=this.length-1,o,s;r>=n;)if(o=parseInt((n+r)/2,10),s=i(this[o],t),0>s)n=o+1;else{if(!(s>0))return o;r=o-1}return-1},inject:function(e,t){for(var i=0;i<this.length;i++)e=t(e,this[i],i);return e},map:function(e,t){for(var i=new Array(this.length),n=0,r=this.length;r>n;n++)n in this&&(i[n]=e.call(t,this[n],n,this));return i},intersect:function(){if(!arguments.length)return[];for(var e=this,t=a2=null,i=0;i<arguments.length;){t=[],a2=arguments[i];for(var n=e.length,r=a2.length,o=0;n>o;o++)for(var s=0;r>s;s++)e[o]===a2[s]&&t.push(e[o]);e=t,i++}return t.unique()},unique:function(){for(var e=[],t=this.length,i=0;t>i;i++){for(var n=i+1;t>n;n++)this[i]===this[n]&&(n=++i);e.push(this[i])}return e}}),Date.prototype.getElapsed=function(e){return Math.abs((e||new Date).getTime()-this.getTime())},"undefined"==typeof usig&&(usig={}),usig.debug=function(e){window.console&&window.console.log&&window.console.log(e)},"undefined"==typeof usig&&(usig={}),jQuery.extendIf(usig,{loadingJs:[],loadingJsListeners:{},__callLoadJsListeners:function(e){for(var t=0,i=usig.loadingJsListeners[e].length;i>t;t++)usig.loadingJsListeners[e][t]()},loadJs:function(e,t){if(usig.loadingJs.indexOf(e)<0){usig.loadingJs.push(e),usig.loadingJsListeners[e]="function"==typeof t?[t]:[];var i=document.createElement("script"),n=document.getElementsByTagName("head")[0],r=!1;i.onload=i.onreadystatechange=function(){return i.readyState&&"complete"!==i.readyState&&"loaded"!==i.readyState||r?!1:(i.onload=i.onreadystatechange=null,r=!0,void usig.__callLoadJsListeners(e))},i.src=e,n.insertBefore(i,n.firstChild)}else usig.loadingJsListeners[e].push(t)},loadCss:function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),"undefined"!=typeof t&&document.getElementsByTagName("head")[0].appendChild(t)},removeJs:function(e){for(var t=document.getElementsByTagName("script"),i=t.length;i>=0;i--)t[i]&&null!=t[i].getAttribute("src")&&-1!=t[i].getAttribute("src").indexOf(e)&&t[i].parentNode.removeChild(t[i])},removeCss:function(e){for(var t=document.getElementsByTagName("link"),i=t.length;i>=0;i--)t[i]&&null!=t[i].getAttribute("href")&&-1!=t[i].getAttribute("href").indexOf(e)&&t[i].parentNode.removeChild(t[i])},Animator:function(e,t,i,n){function r(){e.length>o?(t(e[o]),o++,setTimeout(r,i)):"function"==typeof n&&n()}var o=0;this.stop=function(){o=e.length+1},r()},parseUri:function(e){for(var t=["source","protocol","authority","domain","port","path","directoryPath","fileName","query","anchor"],i=new RegExp("^(?:([^:/?#.]+):)?(?://)?(([^:/?#]*)(?::(\\d*))?)((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?").exec(e),n={},r=0;10>r;r++)n[t[r]]=i[r]?i[r]:"";return n.directoryPath.length>0&&(n.directoryPath=n.directoryPath.replace(/\/?$/,"/")),n},registeredSuggesters:{},registerSuggester:function(e,t){usig.registeredSuggesters[e]=t},createSuggester:function(e,t){if("function"!=typeof usig.registeredSuggesters[e]){throw"Suggester "+e+" is not registered.";return null}return new usig.registeredSuggesters[e](t)}}),jQuery.expr[":"].Contains=function(e,t,i){return jQuery(e).text().toUpperCase().indexOf(i[3].toUpperCase())>=0},jQuery.expr[":"].ContainsFilter=function(e,t,i){if(e.innerHTML.indexOf("data-filter")>=0)var n=e.innerHTML.match(/data-filter\=\"(.*?)\"/)[1].toUpperCase().indexOf(i[3].toUpperCase())>=0;return jQuery(e).text().toUpperCase().indexOf(i[3].toUpperCase())>=0||n},function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;jQuery.Class=function(){},jQuery.Class.create=function(i){function n(){return!e&&n.prototype.init?n.prototype.init.apply(this,arguments):void 0}var r=this.prototype;e=!0;var o=new this;e=!1;for(var s in i)o[s]="function"==typeof i[s]&&"function"==typeof r[s]&&t.test(i[s])?function(e,t){return function(){var i=this._super;this._super=r[e];var n=t.apply(this,arguments);return this._super=i,n}}(s,i[s]):i[s];return n.prototype=o,n.prototype.constructor=n,n.extend=arguments.callee,n}}(),"undefined"==typeof usig&&(usig={}),usig.InputController=function(e){return function(t,i){var n=document.getElementById(t),r="",o=e.extend({},usig.InputController.defaults,i),s=function(e){var t=e.keyCode;window.event&&window.event.keyCode>0&&(t=window.event.keyCode),"blur"!=e.type&&"focus"!=e.type&&"function"==typeof o.onKeyUp&&o.onKeyUp(t,n.value),"blur"!=e.type&&"focus"!=e.type&&n.value!=r&&"function"==typeof o.onChange&&(r=n.value,o.onChange(n.value)),"blur"==e.type&&"function"==typeof o.onBlur&&o.onBlur(),"focus"==e.type&&"function"==typeof o.onFocus&&o.onFocus()},a=s.createDelegate(this);if(this.unbind=function(){e(n).unbind(o.events,a)},this.bind=function(){e(n).bind(o.events,a),r=e(n).val()},this.setOptions=function(t){o=e.extend({},o,t)},this.setValue=function(e){n.value=e,r=e},this.setFocus=function(){try{e(n).focus()}catch(t){}},!n)throw"InvalidField";this.bind()}}(jQuery),usig.InputController.defaults={events:document.all?"blur keydown keyup input focus":"blur keydown input focus"},"undefined"==typeof usig&&(usig={}),usig.AutoCompleter=function(e){return function(t,n,r){function o(){""!=y.value&&L.length>0&&A.show(L,N),L=[],j=null}function s(e,t){t||(L=[],N=!1);for(var i=0,n=e.length;n>i;i++)L.push(e[i]);j||(N=t,j=o.defer(x.flushTimeout,this))}function a(e,t){var n=e.suggester,r=e.options;i=function o(e,t){if(y.value==t){if(void 0!=e.getErrorMessage)try{!R&&r.showError&&A.showMessage(e.getErrorMessage())}catch(i){!R&&r.showError&&A.showMessage(x.texts.nothingFound)}else 0==e.length?!R&&r.showError&&A.showMessage(x.texts.nothingFound):(e=e.map(function(e){return e.suggesterName=n.name,e}),x.flushTimeout>0?s(e,R):A.show(e,R),R=!0,w||A.hide());"function"==typeof x.afterSuggest&&x.afterSuggest()}},n.getSuggestions(t,i.createDelegate(this,[t],1),r.maxSuggestions)}function u(){for(var e=0;e<b.length;e++)b[e].inputTimer&&clearTimeout(b[e].inputTimer),b[e].suggester.abort();"function"==typeof x.afterAbort&&x.afterAbort()}function c(e){u();var t=e.toString();E.setValue(t),"function"==typeof x.afterSelection&&x.afterSelection(e),"function"==typeof x.afterGeoCoding&&("function"==typeof x.beforeGeoCoding&&x.beforeGeoCoding(),S[e.suggesterName].getGeoCoding(e,C)),E.setFocus()}function l(e,t,i){return void 0!=e.descripcion&&""!=e.descripcion?'<li class="acv_op"><a href="#" class="acv_op" name="'+t+'"><span class="tl"/><span class="tr"/><span>'+i(e.toString())+'</span><span class="clase">('+e.descripcion+")</span></a></li>":'<li class="acv_op"><a href="#" class="acv_op" name="'+t+'"><span class="tl"/><span class="tr"/><span>'+i(e.toString())+"</span></a></li>"}function g(e){try{u(),A.update(e),"function"==typeof x.onInputChange&&x.onInputChange(e)}catch(t){throw t}R=!1;for(var i=0;i<b.length;i++)e.length>=b[i].options.minTextLength&&(b[i].inputTimer=a.defer(b[i].options.inputPause,this,[b[i],e]))}function f(e){A.keyUp(e)}function h(){w=!1,x.hideOnBlur&&A.hide.defer(300)}function d(){w=!0}function p(e){I[e]>0&&(I[e]--,O--)}function m(e){I[e]++,O++,"function"==typeof x.afterServerRequest&&x.afterServerRequest()}function v(e){I[e]>0&&(I[e]--,O--),"function"==typeof x.afterServerResponse&&0==O&&x.afterServerResponse()}function C(e){e instanceof usig.Suggester.GeoCodingTypeError&&E.setValue(y.value+" "),x.afterGeoCoding(e)}var y=document.getElementById(t),A=r,b=[],S={},x=e.extend({},usig.AutoCompleter.defaults,n),E=null,w=!0,D=[],L=[],j=null,I={},O=0,R=!1,N=!1;y.setAttribute("autocomplete","off"),this.unbind=function(){E.unbind(),u(),A.hide()},this.bind=function(){E.bind()},this.destroy=function(){for(this.unbind(),A.remove(),delete E;b.length>0;)b.pop();for(var e=0;e<D.length;e++)delete D[e]},this.setViewControl=function(e){A=e,A.onSelection(c.createDelegate(this))},this.setOptions=function(t){x=e.extend({},x,t),A.setOptions(t)},this.addSuggester=function(t,i){var n="string"==typeof t?t:t.name;if("undefined"==typeof S[n]){var r=t;if("string"==typeof t)try{r=usig.createSuggester(n,{onReady:x.onReady,debug:x.debug,maxRetries:x.maxRetries,afterServerRequest:m.createDelegate(this,[n],1),afterServerResponse:v.createDelegate(this,[n],1),afterAbort:p.createDelegate(this,[n],1)})}catch(o){return!1}else r.setOptions({debug:x.debug,maxRetries:x.maxRetries,afterServerRequest:m.createDelegate(this,[n],1),afterServerResponse:v.createDelegate(this,[n],1),afterAbort:p.createDelegate(this,[n],1)});S[n]=r,I[n]=0;var s={inputPause:x.inputPause,maxSuggestions:x.maxSuggestions,serverTimeout:x.serverTimeout,minTextLength:x.minTextLength,maxRetries:x.maxRetries,showError:x.showError};s=e.extend({},s,i),b.push({suggester:r,options:s,inputTimer:null})}},this.removeSuggester=function(e){if("undefined"!=typeof S[e]){S[e]=void 0;for(var t=0;t<b.length;t++)if(b[t].suggester.name==e){b.removeObject(b[t]);break}}},this.setSuggesterOptions=function(t,i){if("undefined"!=typeof S[t])for(var n=0;n<b.length;n++)if(b[n].suggester.name==t){b[n].options=e.extend(b[n].options,i);break}},this.getSuggesters=function(){for(var t={},i=0;i<b.length;i++)t[b[i].suggester.name]=e.extend({},b[i].options);return t},this.changeSkin=function(e){A.changeSkin(e)},this.getOptions=function(){return x},this.selectOption=function(e){return A.selectOption(e)},this.getNumSuggestions=function(){return A.getNumSuggestions()},this.getSuggestion=function(e){return A.getSuggestion(e)},this.hide=function(){A.hide()},this.ready=function(e){var t=!1;if(e)t=S[e].ready();else for(_=0;_<b.length;_++)t=t||b[_].suggester.ready();return t};try{E=new usig.InputController(t,{onKeyUp:f.createDelegate(this),onChange:g.createDelegate(this),onBlur:h.createDelegate(this),onFocus:d.createDelegate(this),debug:x.debug})}catch(T){throw T}for(var _=0;_<x.suggesters.length;_++)this.addSuggester(x.suggesters[_].suggester,x.suggesters[_].options);A||(A=new usig.AutoCompleterDialog(t,{maxOptions:x.maxOptions,rootUrl:x.rootUrl,debug:x.debug,skin:x.skin,autoSelect:x.autoSelect,autoHideTimeout:x.autoHideTimeout,optionsFormatter:l,onEnterWithoutSelection:x.onEnterWithoutSelection,idDiv:x.idOptionsDiv}),D.push(A)),A.onSelection(c.createDelegate(this))}}(jQuery),usig.AutoCompleter.defaults={inputPause:200,maxSuggestions:10,serverTimeout:3e4,minTextLength:3,maxRetries:1,showError:!0,maxOptions:10,offsetY:-5,zIndex:1e4,autoHideTimeout:1e4,flushTimeout:0,hideOnBlur:!0,autoSelect:!0,rootUrl:"//servicios.usig.buenosaires.gob.ar/usig-js/3.1/",skin:"bootstrap",idOptionsDiv:void 0,suggesters:[{suggester:"Direcciones",options:{inputPause:10,minTextLength:3}},{suggester:"Lugares",options:{inputPause:500,minTextLength:3,showError:!1}}],debug:!1,texts:{nothingFound:"No se hallaron resultados coincidentes con su b&uacute;squeda."}},"undefined"==typeof usig&&(usig={}),usig.AutoCompleterDialog=function(e){return function(t,i){function n(){clearTimeout(m)}function r(){n(),d.autoHideTimeout>0&&(m=o.defer(d.autoHideTimeout,this))}function o(){b&&b.fadeOut("slow")}function s(t){if(n(),b)e("#"+p+" div.content").html(t),b.show(),v=-1;else{b=e('<div id="'+p+'" class="usig_acv">						<div class="header">							<div class="corner"/>							<div class="bar"/>						</div>						<div class="content">'+t+'</div>						<div class="footer">							<div class="corner"/>							<div class="bar"/>						</div>					</div>');var i=e(f).offset();b.css({position:"absolute",left:i.left+"px",top:i.top+f.offsetHeight+parseInt(d.offsetY)+"px",width:f.offsetWidth,zIndex:d.zIndex}),e("body").append(b),b.mouseover(n.createDelegate(this)),b.mouseout(r.createDelegate(this)),v=-1,b.show()}m=o.defer(d.autoHideTimeout,this)}function a(){b&&(v=-1,e("ul.options li.highlight",b).removeClass("highlight"))}function u(t){b&&(v=t,e("ul.options li.highlight",b).removeClass("highlight"),"string"==typeof t?(e('ul.options li:has(a[name="'+t+'"])',b).addClass("highlight"),v=parseInt(t.replace(p,""))):e("ul.options li:has(a)",b).slice(t,t+1).addClass("highlight"))}function c(e){var t=new e.constructor(e);t.marked=Array();for(var i=h.split(" "),n=0;n<i.length;n++){var r=t.toLowerCase().indexOf(i[n].toLowerCase());if(0>r)var r=t.toLowerCase().indexOf(i[n].translate("Ã¡Ã©Ã­Ã³ÃºÃ¼ÃÃ‰ÃÃ“ÃšÃœÃ Ã¨Ã¬Ã²Ã¹Ã€ÃˆÃŒÃ’Ã™","aeiouuAEIOUUaeiouAEIOU").toLowerCase());if(r>=0)for(var o=0;o<i[n].length;o++)t.marked[r+o]=!0}for(var s="",a=!1,n=0;n<t.length;n++)t.marked[n]&&!a?(s=s+"<em>"+t.substring(n,n+1),a=!0):t.marked[n]&&a||!t.marked[n]&&!a?s+=t.substring(n,n+1):(s=s+"</em>"+t.substring(n,n+1),a=!1);return a&&(s+="</em>"),s}function l(e){"function"==typeof d.onSelection&&(n(),o(),d.onSelection(e))}function g(){n(),v=-1,A=0,S={}}var f=document.getElementById(t),h=f.value,d=e.extend({},usig.AutoCompleterDialog.defaults,i),p=d.idDiv||"usig_acv_"+t,m=null,v=-1,C=!1,y=!1,A=0,b=null,S={},x={arrUp:38,arrDn:40,enter:13,esc:27};this.setOptions=function(t){d=e.extend({},d,t)},this.update=function(e){""==e&&b&&b.hide(),h=e,g()},this.getOptions=function(){return d},this.show=function(t,i){var n="",r=isNaN(parseInt(i))?0:parseInt(i);void 0!=i?r>0&&(e("ul.options li",b).slice(r).remove(),A=e("ul.options li a",b).length):(A=0,S={});var o=c;e.each(t,function(e,t){return A>=d.maxOptions?!1:void("string"==typeof t?n+='<li class="acv_op message">'+t+"</li>":"function"==typeof d.optionsFormatter?(n+=d.optionsFormatter(t,p+A,o),S[p+A]=t,A++):"function"==typeof t.toString&&(n+='<li class="acv_op"><a href="#" class="acv_op" name="'+p+A+'"><span class="tl"/><span class="tr"/><span>'+o(t.toString())+"</span></a></li>",S[p+A]=t,A++))}),(i===!0||!isNaN(parseInt(i)))&&b&&e("ul.options li a",b).length>0?(A>1&&y&&(y=!1,a()),e("ul.options",b).append(n)):d.idDiv?(b.html('<div class="content"><ul class="options">'+n+"</ul></div>"),b.show()):s('<ul class="options">'+n+"</ul>"),e("ul.options li.acv_op",b).mouseover(function(t,i){i(t.target.name?t.target.name:e(t.target).parents("a").attr("name")),C=!0}.createDelegate(this,[u],1)),e("ul.options li.acv_op",b).mouseout(function(e){C&&(C=!1,a())}.createDelegate(this)),e("ul.options li.acv_op",b).click(function(t){t.preventDefault();var i=t.target?t.target:t.srcElement,n=e(i).parents("a.acv_op").attr("name")||e("a.acv_op",e(i)).attr("name")||e(i).attr("name");l(S[n])}.createDelegate(this)),d.autoSelect&&1==A&&(v=0,y=!0,u(v))},this.showMessage=function(e){d.idDiv?(b.html('<div class="content"><div class="message">'+e+"</div></div>"),b.show()):s('<div class="message">'+e+"</div>")},this.keyUp=function(e){void 0==v&&(v=-1),(e==x.arrDn||e==x.arrUp)&&A>0&&("block"!=b.css("display")?b.show():(r(),v=e==x.arrDn?(v+1).constrain(0,A-1):(v-1).constrain(0,A-1),u(v))),x.enter==e&&(b&&"block"!=b.css("display")?("function"==typeof d.onEnterWithoutSelection&&d.onEnterWithoutSelection(h),b.show()):v>=0||1==A?l(v>=0?S[p+v]:S[p+"0"]):A>0&&"function"==typeof d.onEnterWithoutSelection&&d.onEnterWithoutSelection(h)),x.esc==e&&(n(),o())},this.remove=function(){n(),b&&b.remove()},this.onSelection=function(e){"function"==typeof e&&(d.onSelection=e)},this.selectOption=function(e){return A>e?("block"!=b.css("display")&&b.show(),u(e),l(S[p+v]),!0):!1},this.getNumSuggestions=function(){return A},this.getSuggestion=function(e){var t=e||0;return A>t?S[p+t]:!1},this.changeSkin=function(e){usig.removeCss(d.rootUrl+"css/usig.AutoCompleterDialog."+d.skin+".css"),d.skin=e,usig.loadCss(d.rootUrl+"css/usig.AutoCompleterDialog."+d.skin+".css")},this.hide=function(){n(),b&&b.hide()},"custom"!=d.skin&&usig.loadCss(d.rootUrl+"css/usig.AutoCompleterDialog."+d.skin+".css"),d.idDiv&&(b=e("#"+d.idDiv),b.addClass("usig_acv"))}}(jQuery),usig.AutoCompleterDialog.defaults={maxOptions:10,debug:!1,offsetY:-5,zIndex:1e4,autoHideTimeout:5e3,autoSelect:!0,rootUrl:"//servicios.usig.buenosaires.gob.ar/usig-js/3.1/",skin:"usig4"},"undefined"==typeof usig&&(usig={}),usig.Suggester=function(e){return jQuery.Class.create({init:function(t,i){this.name=t,this.cleanList=[],this.opts=e.extend({},usig.Suggester.defaults,i)},getSuggestions:function(e,t,i){throw new usig.Suggester.MethodNotImplemented},getGeoCoding:function(e,t){throw new usig.Suggester.MethodNotImplemented},abort:function(){},setOptions:function(t){this.opts=e.extend({},this.opts,t)},getOptions:function(){return this.opts},ready:function(){throw new usig.Suggester.MethodNotImplemented},destroy:function(){for(var e=0;e<this.cleanList.length;e++)delete this.cleanList[e]}})}(jQuery),usig.Suggester.defaults={debug:!1,serverTimeout:15e3,maxRetries:5,maxSuggestions:10},usig.Suggester.MethodNotImplemented=function(){this.msg="Suggester: Method Not Implemented.",this.toString=function(){return this.msg}},usig.Suggester.GeoCodingTypeError=function(){this.msg="Suggester: Wrong object type for geocoding.",this.toString=function(){return this.msg}},"undefined"==typeof usig&&(usig={}),usig.AjaxComponent=function(e){return jQuery.Class.create({init:function(t,i,n){this.name=t;var r=n.dataType||(window.location.host==usig.parseUri(i).authority?"json":"jsonp");this.defaultParams={type:"GET",url:i,dataType:r},this.opts=e.extend({},usig.AjaxComponent.defaults,n)},mkRequest:function(t,i,n,r){function o(e,t){clearTimeout(u),"function"==typeof this.opts.afterServerResponse&&this.opts.afterServerResponse(),t(e)}function s(e,t){c>=this.opts.maxRetries&&(clearTimeout(u),"function"==typeof t&&t(e))}function a(t,i){if(null!=t&&0!=t.readyState&&4!=t.readyState)if(t.abort(),"function"==typeof this.opts.afterAbort&&this.opts.afterAbort(),this.opts.maxRetries>c){c++;var n=e.ajax(i);"function"==typeof this.opts.afterRetry&&this.opts.afterRetry(),u=setTimeout(a.createDelegate(this,[n,l]),this.opts.serverTimeout)}else"function"==typeof i.error&&i.error("Se produjo un error al intentar acceder al servidor: "+i.url)}var u=null,c=0;if("function"==typeof i&&("undefined"==typeof n||"function"==typeof n)){var l=e.extend(!0,{},this.defaultParams,{success:o.createDelegate(this,[i],1),error:s.createDelegate(this,[n],1),data:t});r&&(l.url=r);var g=e.ajax(l);return"function"==typeof this.opts.afterServerRequest&&this.opts.afterServerRequest(),this.opts.serverTimeout>0&&(u=setTimeout(a.createDelegate(this,[g,l]),this.opts.serverTimeout)),g}},setOptions:function(t){this.opts=e.extend({},this.opts,t)},getOptions:function(){return this.opts}})}(jQuery),usig.AjaxComponent.defaults={debug:!1,serverTimeout:3e4,maxRetries:1},"undefined"==typeof usig&&(usig={}),usig.Punto=function(e,t){this.x=this.lon=e,this.y=this.lat=t,this.getX=function(){return this.x},this.getY=function(){return this.y},this.toJson=function(){return'{ "x":'+this.x+', "y": '+this.y+" }"},this.toString=function(){return"("+this.x+", "+this.y+")"}},usig.Punto.fromWkt=function(e){var t=/^POINT *\(([0-9]+\.[0-9]+) ([0-9]+\.[0-9]+)\)$/,i=null;return(resMatch=e.match(t))&&(i=new usig.Punto(resMatch[1],resMatch[2])),i},usig.Punto.fromPunto=function(e){return new usig.Punto(e.getX(),e.getY())},usig.Punto.fromObj=function(e){return new usig.Punto(e.x,e.y)},"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.Calle&&(usig.Calle=function(e,t,i,n){this.codigo=e,this.nombre=t,this.alturaValida=function(e){if(i instanceof Array){if(0==i.length){throw new usig.ErrorCalleSinAlturas(this.nombre);return!1}var t=!1;for(a in i)t=t||parseInt(i[a][0])<=parseInt(e)&&parseInt(i[a][1])>=parseInt(e);return t}},this.getTramos=function(){return i},this.toString=function(){return this.nombre},this.seCruzaCon=function(e){return n?n.indexOf(e.codigo)>=0:void 0},this.toJson=function(){return{codigo:this.codigo,nombre:this.nombre}},this.isEqual=function(e){return this.codigo==e.codigo}},usig.Calle.fromObj=function(e){return new usig.Calle(e.codigo,e.nombre)}),"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.Direccion&&(usig.Direccion=function(e){return function(t,i){var n=null,r=null,o=0,s=null,a="",u=null;if(!(t instanceof usig.Calle))return null;if(n=t,i instanceof usig.Calle)r=i,s=usig.Direccion.CALLE_Y_CALLE;else{if(isNaN(parseInt(i)))return null;s=usig.Direccion.CALLE_ALTURA,o=parseInt(i)}this.getCalle=function(){return n},this.getCalleCruce=function(){return s==usig.Direccion.CALLE_Y_CALLE?r:null},this.getAltura=function(){return o},this.getTipo=function(){return s},this.toString=function(){if(s==usig.Direccion.CALLE_ALTURA)return n.toString()+" "+(o>0?o:"S/N");var e=r.toString(),t=e.match(/^(I|Hi|HI).*/)?" e ":" y ";return n.toString()+t+e},this.setCoordenadas=function(e){u=usig.Punto.fromPunto(e)},this.setSmp=function(e){a=e},this.getCoordenadas=function(){return u},this.getSmp=function(){return a},this.clone=function(){var t=new usig.Direccion(n,i);return e.extend(!0,t,this)},this.toJson=function(){return{tipo:s,calle:n.toJson(),altura:o,calle_cruce:r?r.toJson():null,smp:a,coordenadas:u}},this.isEqual=function(e){var t=e instanceof usig.Direccion&&s==e.getTipo()&&(s==usig.Direccion.CALLE_ALTURA&&n.isEqual(e.getCalle())&&o==e.getAltura()||s==usig.Direccion.CALLE_Y_CALLE&&(n.isEqual(e.getCalle())&&r.isEqual(e.getCalleCruce())||n.isEqual(e.getCalleCruce())&&r.isEqual(e.getCalle())));return t}}}(jQuery),usig.Direccion.CALLE_ALTURA=0,usig.Direccion.CALLE_Y_CALLE=1,usig.Direccion.fromObj=function(e){var t=null;if(void 0!=e.tipo)t=new usig.Direccion(usig.Calle.fromObj(e.calle),e.tipo==usig.Direccion.CALLE_ALTURA?e.altura:usig.Calle.fromObj(e.calle_cruce));else{var i=new usig.Calle(e.cod_calle,e.calle);t=null!=e.cod_calle2?new usig.Direccion(i,new usig.Calle(e.cod_calle2,e.calle2)):new usig.Direccion(i,e.altura)}return void 0!=e.smp&&null!=e.smp&&t.setSmp(e.smp),void 0!=e.coordenadas&&null!=e.coordenadas&&t.setCoordenadas("string"==typeof e.coordenadas?usig.Punto.fromWkt(e.coordenadas):usig.Punto.fromObj(e.coordenadas)),t}),"undefined"==typeof usig&&(usig={}),usig.GeoCoder=function(e){return usig.AjaxComponent.extend({metodos:["interpolacion","puertas","centroide"],init:function(t){var i=e.extend({},usig.GeoCoder.defaults,t);this._super("GeoCoder",usig.GeoCoder.defaults.server,i)},validarMetodo:function(e){if(void 0!=e){if(this.metodos.indexOf(e)>=0)return e}else if(void 0!=this.opts.metodo)return this.opts.metodo;return void 0},onSuccess:function(e,t){t("string"!=typeof e?new usig.Punto(e.x,e.y):e)},geoCodificarDireccion:function(e,t,i,n){if(!(e instanceof usig.Direccion))throw"dir debe ser una instancia de usig.Direccion";e.getTipo()==usig.Direccion.CALLE_ALTURA?this.geoCodificarCodigoDeCalleAltura(e.getCalle().codigo,e.getAltura(),t,i,n):this.geoCodificar2CodigosDeCalle(e.getCalle().codigo,e.getCalleCruce().codigo,t,i)},geoCodificarCalleAltura:function(e,t,i,n,r){if(!t.isInteger())throw"altura tiene que ser un entero";var o={cod_calle:e,altura:t};r=this.validarMetodo(r),void 0!=r&&(o.metodo=r),this.mkRequest(o,this.onSuccess.createDelegate(this,[i],1),n,this.opts.server+"geocoding/")},geoCodificarCodigoDeCalleAltura:function(e,t,i,n,r){if(!e.isInteger())throw"codCalle tiene que ser un entero";if(!t.isInteger())throw"altura tiene que ser un entero";var o={cod_calle:e,altura:t};r=this.validarMetodo(r),void 0!=r&&(o.metodo=r),this.mkRequest(o,this.onSuccess.createDelegate(this,[i],1),n,this.opts.server+"geocoding/")},geoCodificarCalleYCalle:function(e,t,i,n){var r={cod_calle1:e,cod_calle2:t};this.mkRequest(r,this.onSuccess.createDelegate(this,[i],1),n,this.opts.server+"geocoding/")},geoCodificar2CodigosDeCalle:function(e,t,i,n){if(!e.isInteger())throw"codCalle1 tiene que ser un entero";if(!t.isInteger())throw"codCalle2 tiene que ser un entero";var r={cod_calle1:e,cod_calle2:t};this.mkRequest(r,this.onSuccess.createDelegate(this,[i],1),n,this.opts.server+"geocoding/")},reverseGeoCoding:function(e,t,i,n){var r={x:e,y:t};this.mkRequest(r,i,n,this.opts.server+"reversegeocoding/")},getSMP:function(e,t,i,n){var r={cod_calle:e,altura:t};this.mkRequest(r,i,n,this.opts.server+"smp/")}})}(jQuery),usig.GeoCoder.defaults={debug:!1,server:"//ws.usig.buenosaires.gob.ar/geocoder/2.2/",metodo:void 0},"undefined"==typeof usig&&(usig={}),usig.Inventario=function(e){return usig.AjaxComponent.extend({lastRequest:null,lastRequestEpok:null,init:function(t){var i=e.extend({},usig.Inventario.defaults,t);this._super("Inventario",usig.Inventario.defaults.server,i)},getCategorias:function(e,t){this.lastRequest=this.mkRequest({},e,t,this.opts.server+"getCategorias/")},getParcelaPorDir:function(e,t,i){this.lastRequest=this.mkRequest({cod_calle:e.cod,altura:e.alt},t,i,this.opts.server+"getParcela/")},getDir:function(e,t,i){this.lastRequest=this.mkRequest(e,t,i,this.opts.server+"getDir/")},getParcela:function(e,t,i,n){this.lastRequest=this.mkRequest(e,i,n,this.opts.server+"getParcela"+t+"/")},getDatosTransporte:function(e,t,i){this.lastRequest=this.mkRequest(e,t,i,this.opts.server+"getDatosTransporte/")},buscar:function(t,i,n,r){function o(t,i){var n={},r=[];e.each(t.clasesEncontradas,function(e,t){n[t.id]=new usig.inventario.Clase(t.id,t.nombre,t.nombreId,t.nombreNorm)}),e.each(t.instancias,function(e,t){r.push(new usig.inventario.Objeto(t,n[t.claseId]))}),"function"==typeof i&&i(r)}var s=e.extend({},usig.Inventario.defaults.searchOptions,r),a={start:s.start,limit:s.limit,texto:t,tipo:s.tipoBusqueda,totalFull:s.totalFull};void 0!=s.categoria&&(a.categoria=s.categoria),void 0!=s.clase&&(a.clase=s.clase),s.bbox&&(a.bbox=[s.extent.left,s.extent.bottom,s.extent.right,s.extent.top].join(","));var u=o.createDelegate(this,[i],1);s.returnRawData&&(u=i),s.searchInventario&&(this.lastRequest=this.mkRequest(a,u,n,this.opts.server+"buscar/")),s.searchEpok&&(this.lastRequestEpok=this.mkRequest(a,u,n,this.opts.serverEpok+"buscar/"))},getObjeto:function(e,t,i){function n(e,t,i){i instanceof usig.inventario.Objeto?(i.fill(e),t(i)):t(new usig.inventario.Objeto(e))}var r="object"==typeof e?e.id:e;"string"==typeof r?this.lastRequestEpok=this.mkRequest({id:r},n.createDelegate(this,[t,e],1),i,this.opts.serverEpok+"getObjectContent/"):(r=parseInt(r),r>0&&(this.lastRequest=this.mkRequest({id:r},n.createDelegate(this,[t,e],1),i,this.opts.server+"getObjectContent/")))},getFeatureInfo:function(e,t,i){this.lastRequest=this.mkRequest(e,t,i,this.opts.server+"getObjectContent/")},getCloseFeatures:function(e,t,i){this.lastRequest=this.mkRequest(e,t,i,this.opts.server+"objetosCercanos/")},getGeom:function(e,t,i){this.lastRequest=this.mkRequest({id:e},t,i,this.opts.server+"getGeometria/")},abort:function(){this.lastRequest&&(this.lastRequest.abort(),this.lastRequest=null,"function"==typeof this.opts.afterAbort&&this.opts.afterAbort())}})}(jQuery),usig.Inventario.defaults={debug:!1,server:"//inventario.usig.buenosaires.gob.ar/publico/",serverEpok:"//epok.buenosaires.gob.ar/",dataType:"jsonp",searchOptions:{start:0,limit:20,tipoBusqueda:"ranking",categoria:void 0,clase:void 0,bbox:!1,totalFull:!1,extent:void 0,returnRawData:!1,searchInventario:!1,searchEpok:!0}},"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.inventario&&(usig.inventario={}),usig.inventario.Objeto=function(e){return function(t,i){this.id=0,this.nombre=usig.inventario.Objeto.defaults.texts.noName,this.ubicacion=null,this.clase=i,this.direccionAsociada=null,this.fechaAlta=null,this.fechaUltimaModificacion=null,this.datos={},this.rawData={},this.descripcion=null,void 0!=i&&(this.descripcion=i.getNombre()),this.fill=function(t){if(t.id&&(this.id=t.id),t.nombre&&(this.nombre=t.nombre),t.ubicacion&&(this.ubicacion=new usig.inventario.Ubicacion(t.ubicacion),this.rawData.ubicacion=t.ubicacion),t.fechaAlta&&(this.fechaAlta=new Date(t.fechaAlta),this.rawData.fechaAlta=t.fechaAlta),t.fechaUltimaModificacion&&(this.fechaUltimaModificacion=new Date(t.fechaUltimaModificacion),this.rawData.fechaUltimaModificacion=t.fechaUltimaModificacion),t.direccionAsociada)try{this.direccionAsociada=usig.Direccion.fromObj(t.direccionAsociada),this.rawData.direccionAsociada=t.direccionAsociada}catch(i){}else if(t.direccionNormalizada&&usig.NormalizadorDirecciones)try{this.direccionAsociada=usig.NormalizadorDirecciones.normalizar(t.direccionNormalizada,10,!0)[0],this.direccionAsociada.setCoordenadas(this.ubicacion.getCentroide()),t.smp&&this.direccionAsociada.setSmp(t.smp),this.rawData.direccionAsociada=this.direccionAsociada.toJson()}catch(i){}if(t.contenido){var n=this.datos;e.each(t.contenido,function(e,t){n[t.nombreId]={alias:t.nombre,valor:t.valor,pos:t.posicion}}),this.datos.nombre&&(this.nombre=this.datos.nombre.valor)}this.rawData=e.extend(this.rawData,t)},this.toString=function(){return this.nombre},this.getRawData=function(){return this.rawData},this.clone=function(){var n=new usig.inventario.Objeto(t,i);return e.extend(!0,n,this)},this.toJson=function(){var e=this.getRawData();return this.clase&&this.clase.toJson&&(e.clase=this.clase.toJson()),this.direccionAsociada&&this.direccionAsociada.toJson&&(e.direccionAsociada=this.direccionAsociada.toJson()),e},this.isEqual=function(e){return e instanceof usig.inventario.Objeto&&e.id==this.id},this.getSmp=function(){return this.rawData.smp||(this.direccionAsociada?this.direccionAsociada.getSmp():"")},this.getCoordenadas=function(){return this.ubicacion?this.ubicacion.getCentroide():this.direccionAsociada?this.direccionAsociada.getCoordenadas():void 0},this.fill(t),this.rawData=e.extend(this.rawData,t)}}(jQuery),usig.inventario.Objeto.fromObj=function(e){return new usig.inventario.Objeto(e,usig.inventario.Clase.fromObj(e.clase))},usig.inventario.Objeto.defaults={texts:{noName:"Sin Nombre"}},"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.inventario&&(usig.inventario={}),usig.inventario.Clase=function(e,t,i,n){this.getId=function(){return e},this.getNombre=function(){return t},this.getNombreId=function(){return i
},this.getNombreNormalizado=function(){return n},this.toJson=function(){return{id:e,nombre:t,nombreId:i,nombreNormalizado:n}}},usig.inventario.Clase.fromObj=function(e){return new usig.inventario.Clase(e.id,e.nombre,e.nombreId,e.nombreNormalizado)},"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.inventario&&(usig.inventario={}),usig.inventario.Ubicacion=function(e){var t=null;e instanceof usig.Punto?t=e:void 0!=e.centroide&&(t=usig.Punto.fromWkt(e.centroide)),this.getCentroide=function(){return t},this.getTipo=function(){return e.tipo}},"undefined"==typeof usig&&(usig={}),usig.SuggesterLugares=function(e){return usig.Suggester.extend({init:function(t){if(void 0!=t){var i=e.extend({},usig.SuggesterLugares.defaults.searchOptions,t.searchOptions);t.searchOpts=i}var n=e.extend({},usig.SuggesterLugares.defaults,t);this._super("Lugares",n),this.opts.inventario||(this.opts.inventario=new usig.Inventario(n),this.cleanList.push(this.opts.inventario)),n.onReady&&"function"==typeof n.onReady&&n.onReady()},getSuggestions:function(e,t,i){var n=void 0!=i?i:this.opts.maxSuggestions;try{this.opts.inventario.buscar(e,t,function(){},{limit:n})}catch(r){t(r)}},getGeoCoding:function(e,t){e instanceof usig.inventario.Objeto?this.opts.inventario.getObjeto(e,function(e){e.direccionAsociada?t(e.direccionAsociada.getCoordenadas()):e.ubicacion&&t(e.ubicacion.getCentroide())},function(){}):t(new usig.Suggester.GeoCodingTypeError)},abort:function(){this.opts.inventario.abort()},ready:function(){return!0},setOptions:function(e){this._super(e),this.opts.inventario.setOptions(e)}})}(jQuery),usig.SuggesterLugares.defaults={serverTimeout:3e4,maxRetries:1,maxSuggestions:10,searchOptions:{start:0,limit:20,tipoBusqueda:"ranking",categoria:void 0,clase:void 0,bbox:!1,extent:void 0,returnRawData:!1}},usig.registerSuggester("Lugares",usig.SuggesterLugares),"undefined"==typeof usig&&(usig={}),usig.SuggesterDirecciones=function(e){return usig.Suggester.extend({init:function(t){var i=e.extend({},usig.SuggesterDirecciones.defaults,t);this._super("Direcciones",i),this.opts.normalizadorDirecciones||(this.opts.normalizadorDirecciones=usig.NormalizadorDirecciones.init({aceptarCallesSinAlturas:this.opts.acceptSN,callesEnMinusculas:this.opts.callesEnMinusculas,onReady:this.opts.onReady}),this.cleanList.push(this.opts.normalizadorDirecciones)),this.opts.geoCoder||(this.opts.geoCoder=new usig.GeoCoder(this.opts),this.cleanList.push(this.opts.geoCoder))},getSuggestions:function(e,t,i){var n=void 0!=i?i:this.opts.maxSuggestions;try{t(this.opts.normalizadorDirecciones.normalizar(e,n))}catch(r){if(this.opts.ignorarTextoSobrante)try{var o=this.opts.normalizadorDirecciones.buscarDireccion(e);t(o!==!1?[o.match]:r)}catch(r){t(r)}else t(r)}},getGeoCoding:function(e,t){e instanceof usig.Direccion?this.opts.geoCoder.geoCodificarDireccion(e,t):t(new usig.Suggester.GeoCodingTypeError)},ready:function(){return this.opts.normalizadorDirecciones.listo()},setOptions:function(t){opts=e.extend({},this.opts,t),this._super(opts),this.opts.geoCoder.setOptions(opts)}})}(jQuery),usig.SuggesterDirecciones.defaults={debug:!1,serverTimeout:5e3,maxRetries:5,maxSuggestions:10,acceptSN:!0,callesEnMinusculas:!1,ignorarTextoSobrante:!0},usig.registerSuggester("Direcciones",usig.SuggesterDirecciones),jQuery.extendIf=function(e,t){if(e&&t)for(var i in t)"undefined"==typeof e[i]&&(e[i]=t[i]);return e},"undefined"==typeof Ext&&(jQuery.extend(Function.prototype,{createCallback:function(){var e=arguments,t=this;return function(){return t.apply(window,e)}},createDelegate:function(e,t,i){var n=this;return function(){var r=t||arguments;if(i===!0)r=Array.prototype.slice.call(arguments,0),r=r.concat(t);else if("number"==typeof i){r=Array.prototype.slice.call(arguments,0);var o=[i,0].concat(t);Array.prototype.splice.apply(r,o)}return n.apply(e||window,r)}},defer:function(e,t,i,n){var r=this.createDelegate(t,i,n);return e?setTimeout(r,e):(r(),0)},createSequence:function(e,t){if("function"!=typeof e)return this;var i=this;return function(){var n=i.apply(this||window,arguments);return e.apply(t||this||window,arguments),n}},createInterceptor:function(e,t){if("function"!=typeof e)return this;var i=this;return function(){return e.target=this,e.method=i,e.apply(t||this||window,arguments)!==!1?i.apply(this||window,arguments):void 0}}}),jQuery.extendIf(String,{escape:function(e){return e.replace(/('|\\)/g,"\\$1")},leftPad:function(e,t,i){var n=new String(e);for(i||(i=" ");n.length<t;)n=i+n;return n.toString()},format:function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})}})),String.prototype.isInteger=function(){return!isNaN(parseInt(this))},String.prototype.isFloat=function(){return!isNaN(parseFloat(this))},String.prototype.toggle=function(e,t){return this==e?t:e},String.prototype.trim=function(){var e=/^\s+|\s+$/g;return function(){return this.replace(e,"")}}(),String.prototype.translate=function(e,t){if(!e.length||!t.length||e.length!=t.length)return this;for(var i=this,n=0;n<e.length;n++)i="string"==typeof e?i.replace(new RegExp(e.charAt(n),"g"),t.charAt(n)):i.replace(new RegExp(e[n],"g"),t[n]);return i},String.prototype.isDigit=function(){return/^\d+$/.test(this)},String.prototype.removeWords=function(e){for(var t=this.split(" "),i=new Array,n=0;n<t.length;n++){i.push(t[n]);for(var r=0;r<e.length;r++)if(i[n]==e[r]){i.pop();break}}return i.join(" ")},jQuery.extendIf(Number.prototype,{constrain:function(e,t){return Math.min(Math.max(this,e),t)},isInteger:function(){return!isNaN(parseInt(this))},isFloat:function(){return!isNaN(parseFloat(this))}}),jQuery.extendIf(Array.prototype,{indexOf:function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]==e)return t;return-1},removeObject:function(e){var t=this.indexOf(e);return-1!=t&&this.splice(t,1),this},binarySearch:function t(e,i){for(var n=0,r=this.length-1,o,s;r>=n;)if(o=parseInt((n+r)/2,10),s=i(this[o],e),0>s)n=o+1;else{if(!(s>0))return o;r=o-1}return-1},inject:function(e,t){for(var i=0;i<this.length;i++)e=t(e,this[i],i);return e},map:function(e,t){for(var i=new Array(this.length),n=0,r=this.length;r>n;n++)n in this&&(i[n]=e.call(t,this[n],n,this));return i},intersect:function(){if(!arguments.length)return[];for(var e=this,t=a2=null,i=0;i<arguments.length;){t=[],a2=arguments[i];for(var n=e.length,r=a2.length,o=0;n>o;o++)for(var s=0;r>s;s++)e[o]===a2[s]&&t.push(e[o]);e=t,i++}return t.unique()},unique:function(){for(var e=[],t=this.length,i=0;t>i;i++){for(var n=i+1;t>n;n++)this[i]===this[n]&&(n=++i);e.push(this[i])}return e}}),Date.prototype.getElapsed=function(e){return Math.abs((e||new Date).getTime()-this.getTime())},"undefined"==typeof usig&&(usig={}),usig.debug=function(e){window.console&&window.console.log&&window.console.log(e)},"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.Calle&&(usig.Calle=function(e,t,i,n){this.codigo=e,this.nombre=t,this.alturaValida=function(e){if(i instanceof Array){if(0==i.length){throw new usig.ErrorCalleSinAlturas(this.nombre);return!1}var t=!1;for(a in i)t=t||parseInt(i[a][0])<=parseInt(e)&&parseInt(i[a][1])>=parseInt(e);return t}},this.getTramos=function(){return i},this.toString=function(){return this.nombre},this.seCruzaCon=function(e){return n?n.indexOf(e.codigo)>=0:void 0},this.toJson=function(){return{codigo:this.codigo,nombre:this.nombre}},this.isEqual=function(e){return this.codigo==e.codigo}},usig.Calle.fromObj=function(e){return new usig.Calle(e.codigo,e.nombre)}),"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.Direccion&&(usig.Direccion=function(e){return function(t,i){var n=null,r=null,o=0,s=null,a="",u=null;if(!(t instanceof usig.Calle))return null;if(n=t,i instanceof usig.Calle)r=i,s=usig.Direccion.CALLE_Y_CALLE;else{if(isNaN(parseInt(i)))return null;s=usig.Direccion.CALLE_ALTURA,o=parseInt(i)}this.getCalle=function(){return n},this.getCalleCruce=function(){return s==usig.Direccion.CALLE_Y_CALLE?r:null},this.getAltura=function(){return o},this.getTipo=function(){return s},this.toString=function(){if(s==usig.Direccion.CALLE_ALTURA)res=n.toString()+" "+(o>0?o:"S/N");else{var e=r.nombre,t=e.match(/^(I|Hi|HI).*/)?" e ":" y ";res=n.nombre+t+r.nombre}return void 0!=n.partido&&(res=res+", "+n.localidad),res},this.setCoordenadas=function(e){u=usig.Punto.fromPunto(e)},this.setSmp=function(e){a=e},this.getCoordenadas=function(){return u},this.getSmp=function(){return a},this.clone=function(){var t=new usig.Direccion(n,i);return e.extend(!0,t,this)},this.toJson=function(){return{tipo:s,calle:n.toJson(),altura:o,calle_cruce:r?r.toJson():null,smp:a,coordenadas:u}},this.isEqual=function(e){var t=e instanceof usig.Direccion&&s==e.getTipo()&&(s==usig.Direccion.CALLE_ALTURA&&n.isEqual(e.getCalle())&&o==e.getAltura()||s==usig.Direccion.CALLE_Y_CALLE&&(n.isEqual(e.getCalle())&&r.isEqual(e.getCalleCruce())||n.isEqual(e.getCalleCruce())&&r.isEqual(e.getCalle())));return t}}}(jQuery),usig.Direccion.CALLE_ALTURA=0,usig.Direccion.CALLE_Y_CALLE=1,usig.Direccion.fromObj=function(e){var t=null;if(void 0!=e.tipo)t=new usig.Direccion(usig.Calle.fromObj(e.calle),e.tipo==usig.Direccion.CALLE_ALTURA?e.altura:usig.Calle.fromObj(e.calle_cruce));else{var i=new usig.Calle(e.cod_calle,e.calle);t=null!=e.cod_calle2?new usig.Direccion(i,new usig.Calle(e.cod_calle2,e.calle2)):new usig.Direccion(i,e.altura)}return void 0!=e.smp&&null!=e.smp&&t.setSmp(e.smp),void 0!=e.coordenadas&&null!=e.coordenadas&&t.setCoordenadas("string"==typeof e.coordenadas?usig.Punto.fromWkt(e.coordenadas):usig.Punto.fromObj(e.coordenadas)),t}),this.JSON||(this.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,r,o,s=gap,a,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,i=0;o>i;i+=1)a[i]=str(i,u)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;o>i;i+=1)n=rep[i],"string"==typeof n&&(r=str(n,u),r&&a.push(quote(n)+(gap?": ":":")+r));else for(n in u)Object.hasOwnProperty.call(u,n)&&(r=str(n,u),r&&a.push(quote(n)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,r=e[t];if(r&&"object"==typeof r)for(i in r)Object.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(e,t,r)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.data&&(usig.data={}),"undefined"==typeof usig.defaults&&(usig.defaults={}),usig.defaults.Callejero={server:"//servicios.usig.buenosaires.gob.ar/callejero",lazyDataLoad:!1,loadFullDatabase:!0,callesEnMinusculas:!1,encoding:"utf-8",expirationTime:10080},usig.Callejero=function(e){function t(e,t){for(var i=!0,n=0;n<e.length;n++){var r=e[n];if(r.lastIndex=0,!r.test(t[2])){i=!1;break}}return i}function n(e){if(p=!1,e.length!=usig.data.Callejero.length)return void alert("Se produjo un error al cargar la informaciÃ³n de cruces de calles.");for(var t=0;t<usig.data.Callejero.length;t++)usig.data.Callejero[t].push(e[t])}function r(e){usig.data.Callejero=e,p=!1,c("ready")}function o(){p=!0,e.ajax({type:"GET",url:g.server,data:{full:1,cruces:1,encoding:g.encoding},dataType:"jsonp",success:n,error:function(){alert("Se produjo un error al intentar cargar la informaciÃ³n de calles.")}})}function s(t){p=!0,e.ajax({type:"GET",url:g.server,data:g.loadFullDatabase?{full:1,encoding:g.encoding,minusculas:g.callesEnMinusculas?1:0}:{encoding:g.encoding,minusculas:g.callesEnMinusculas?1:0},dataType:"jsonp",success:t,error:function(){alert("Se produjo un error al intentar cargar la informaciÃ³n de calles.")}})}function a(){if(!p)if(u()){var e;try{localStorage.callejero&&(e=JSON.parse(localStorage.callejero)),e&&(new Date).getTime()<e.expiration?r(JSON.parse(e.calles)):s(function(e){var t=60*g.expirationTime*1e3,i={calles:JSON.stringify(e),expiration:(new Date).getTime()+t};try{localStorage.callejero=JSON.stringify(i)}catch(n){console.log("No se pudo grabar el callejero en LocalStorage.")}r(e)})}catch(t){s(r)}}else s(r)}function u(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}function c(e){for(var t=0;t<d[e].length;t++)d[e][t]()}function l(e,t){for(var i=!1,n=0;n<d[e].length;n++)i=i||d[e][n]==t;i||d[e].push(t)}var g={},f=this,h=!1,d={ready:[]},p=!1;return{init:function(t){return g=e.extend({},usig.defaults.Callejero,t),"function"==typeof g.onReady&&l("ready",g.onReady),h=!0,usig.data.Callejero||g.lazyDataLoad?usig.data.Callejero&&(c("ready"),d.ready=[]):a.defer(100),this},buscarPorCodigo:function(e){var t=[];if(/^[0-9]+$/.test(e)){var n=usig.data.Callejero.binarySearch(e,function(e,t){return e[0]-t});if(n>-1){var r=usig.data.Callejero[n];for(t.push(new usig.Calle(r[0],r[1],r[3],r[4])),i=n+1;i<usig.data.Callejero.length&&usig.data.Callejero[i][0]==e;)r=usig.data.Callejero[i],t.push(new usig.Calle(r[0],r[1],r[3],r[4])),i++;for(i=n-1;i>=0&&usig.data.Callejero[i][0]==e;)r=usig.data.Callejero[i],t.unshift(new usig.Calle(r[0],r[1],r[3],r[4])),i--}}return t},matcheaCalle:function(e,i){var n=[],r=[],s=e.replace(/"/g,"").translate("Ã¡Ã©Ã­Ã³ÃºÃ¼ÃÃ‰ÃÃ“ÃšÃœÃ Ã¨Ã¬Ã²Ã¹Ã€ÃˆÃŒÃ’Ã™","aeiouuAEIOUUaeiouAEIOU").toUpperCase().trim(),u=s.split(" ");wordsRE=u.map(function(e){return new RegExp("^"+e+"| "+e,"gi")});var c=new RegExp("SNO|SIN NOMBRE OFICIAL|NO OFICIAL|PASAJE|PJE","i");if(!this.listo())throw a(),new usig.ErrorEnCargaDelCallejero;for(var l=0;l<usig.data.Callejero.length&&!(t(wordsRE,usig.data.Callejero[l])&&(c.test(usig.data.Callejero[l][1])||0==usig.data.Callejero[l][3].length?r.push(new usig.Calle(usig.data.Callejero[l][0],usig.data.Callejero[l][1],usig.data.Callejero[l][3],usig.data.Callejero[l][4])):n.push(new usig.Calle(usig.data.Callejero[l][0],usig.data.Callejero[l][1],usig.data.Callejero[l][3],usig.data.Callejero[l][4])),!isNaN(parseInt(i))&&n.length>=parseInt(i)));l++);return n=n.concat(r),!isNaN(parseInt(i))&&n.length>=parseInt(i)&&(n=n.splice(0,i)),usig.data.Callejero[0].length<5&&!p&&o(),n},tieneTramosComoAv:function(e){var t=usig.data.Callejero.binarySearch(e.codigo,function(e,t){return e[0]-t});return 0!=e.codigo&&(usig.data.Callejero[t-1][0]==e.codigo||usig.data.Callejero[t+1][0]==e.codigo)},getNombreCalle:function(e,t){for(var i=this.buscarPorCodigo(e),n=0;n<i.length;n++)if(i[n].alturaValida(t))return i[n].nombre;return""},listo:function(){return usig.data.Callejero&&usig.data.Callejero instanceof Array},inicializado:function(){return h}}}(jQuery),"undefined"==typeof usig&&(usig={}),usig.StringDireccion=function(e){return function(e,t){function i(e,t){return e.isDigit()||t&&r.test(e)}function n(e){return e.translate(["GELLY Y OBES","MENENDEZ Y PELAYO","OLAGUER Y FELIU","ORTEGA Y GASSET","PAULA Y RODRIGUEZ","PAZ Y FIGUEROA","PI Y MARGALL","RAMON Y CAJAL","TORRES Y TENORIO","TREINTA Y TRES"],["GELLY & OBES","MENENDEZ & PELAYO","OLAGUER & FELIU","ORTEGA & GASSET","PAULA & RODRIGUEZ","PAZ & FIGUEROA","PI & MARGALL","RAMON & CAJAL","TORRES & TENORIO","TREINTA & TRES"])}this.tipo=usig.StringDireccion.INVALIDO,this.strCalles="",this.strAltura="",this.strInput=e.replace(/"/g,"").replace(/[\.,\(\)']/g," ").toUpperCase().trim();var r=/[sS][/\\][nN]/;if(this.setearCalleAltura=function(){o=this.strInput.split(" "),this.maxWordLen=o.inject(0,function(e,t,i){return Math.max(t.trim().length,e)});var e=o.length;e>1&&i(o[e-1],t)?(this.tipo=usig.StringDireccion.CALLE_ALTURA,this.strCalles=o.inject("",function(t,i,n){return e-1>n?""!=t?t+" "+i:i:t}),this.strAltura=o[e-1]):(this.tipo=usig.StringDireccion.CALLE,this.strCalles=this.strInput)},this.strInput.length>0){var o=this.strInput.split(" Y ");if(o.length>=2){var s=n(this.strInput);o=s.split(" Y "),o.length>=2&&(this.tipo=usig.StringDireccion.CALLE_Y_CALLE,this.strCalles=[o[0].replace(" & "," Y "),o[1].replace(" & "," Y ")])}o=this.strInput.split(" E "),o.length>=2&&parseInt(o[o.length-1])!=o[o.length-1]&&(this.tipo=usig.StringDireccion.CALLE_Y_CALLE,this.strCalles=o),this.tipo==usig.StringDireccion.INVALIDO&&this.setearCalleAltura()}else this.tipo=usig.StringDireccion.INVALIDO;this.quitarAvsCalle=function(){var e=["AV","AVDA","AVENIDA"];this.tipo==usig.StringDireccion.CALLE_ALTURA?this.strCalles=this.strCalles.removeWords(e):this.tipo==usig.StringDireccion.CALLE_Y_CALLE&&(this.strCalles[0]=this.strCalles[0].removeWords(e))},this.quitarAvsCalleCruce=function(){var e=["AV","AVDA","AVENIDA"];this.tipo==usig.StringDireccion.CALLE_Y_CALLE&&(this.strCalles[1]=this.strCalles[1].removeWords(e))},this.quitarPasajes=function(){var e=["PJE","PSJE","PASAJE"];this.tipo==usig.StringDireccion.CALLE_ALTURA?this.strCalles=this.strCalles.removeWords(e):this.tipo==usig.StringDireccion.CALLE_Y_CALLE&&(this.strCalles[0]=this.strCalles[0].removeWords(e),this.strCalles[1]=this.strCalles[1].removeWords(e))},this.esAlturaSN=function(e){return r.test(e)}}}(jQuery),usig.StringDireccion.CALLE=0,usig.StringDireccion.CALLE_ALTURA=1,usig.StringDireccion.CALLE_Y_CALLE=2,usig.StringDireccion.INVALIDO=-1,"undefined"==typeof usig&&(usig={}),usig.ErrorCalleInexistente=function(e){this.toString=function(){return"Calle inexistente: "+e},this.getNombreCalle=function(){return e},this.getErrorMessage=function(){return usig.ErrorCalleInexistente.defaults.texts.message}},usig.ErrorCalleInexistente.defaults={texts:{message:"No pudo hallarse ninguna calle existente que coincidiera con su b&uacute;squeda. Por favor, revise el nombre ingresado y vuelva a intentarlo."}},"undefined"==typeof usig&&(usig={}),usig.ErrorCalleInexistenteAEsaAltura=function(e){return function(t,i,n){this.getCalle=function(){return t},this.getMatchings=function(){return i},this.getAltura=function(){return n},this.toString=function(){return"La calle "+t+" no existe a la altura "+n},this.getErrorMessage=function(){var t=usig.ErrorCalleInexistenteAEsaAltura.defaults.texts.message+"<ul>";return e.each(i,function(i,n){var r=n.getTramos();e.each(r,function(e,i){t+="<li>"+n.nombre+" "+i[0]+"-"+i[1]+"</li>"})}),t+="</ul>"}}}(jQuery),usig.ErrorCalleInexistenteAEsaAltura.defaults={texts:{message:"La altura indicada no es v&aacute;lida para la calle ingresada. A continuaci&oacute;n se muestran algunas opciones v&aacute;lidas halladas:"}},"undefined"==typeof usig&&(usig={}),usig.ErrorCruceInexistente=function(e){return function(t,i,n,r){this.getCalle1=function(){return t},this.getCalle2=function(){return n},this.getMatchingsCalle1=function(){return i},this.getMatchingsCalle2=function(){return r},this.toString=function(){return"Cruce inexistente: "+t+" y "+n},this.getErrorMessage=function(){var t=usig.ErrorCruceInexistente.defaults.texts.message;return t+="<br/>"+usig.ErrorCruceInexistente.defaults.texts.detalleCalle1+"<ul>",e.each(i,function(e,i){t+="<li>"+i.nombre+"</li>"}),t+="</ul>",t+=usig.ErrorCruceInexistente.defaults.texts.detalleCalle2+"<ul>",e.each(r,function(e,i){t+="<li>"+i.nombre+"</li>"}),t+="</ul>"}}}(jQuery),usig.ErrorCruceInexistente.defaults={texts:{message:"El cruce de calles indicado no existe. A continuaci&oacute;n se muestran algunas calles que coinciden con su b&uacute;squeda.",detalleCalle1:"Algunas calles halladas que coinciden con la 1ra calle ingresada son:",detalleCalle2:"Algunas calles halladas que coinciden con la 2da calle ingresada son:"}},"undefined"==typeof usig&&(usig={}),usig.ErrorCalleSinAlturas=function(e){this.toString=function(){return usig.ErrorCalleSinAlturas.defaults.texts.message.replace("{calle}",e)},this.getNombreCalle=function(){return e},this.getErrorMessage=function(){return usig.ErrorCalleSinAlturas.defaults.texts.message.replace("{calle}",e)}},usig.ErrorCalleSinAlturas.defaults={texts:{message:"La calle {calle} no posee alturas oficiales. Utilice intersecciones para hallar direcciones v&aacute;lidas sobre esta calle o escriba S/N en lugar de la altura."}},"undefined"==typeof usig&&(usig={}),usig.ErrorEnCargaDelCallejero=function(){this.toString=function(){return"Callejero no disponible."},this.getErrorMessage=function(){return"El callejero no se encuentra cargado aÃºn o se produjo un error al intentar cargarlo"}},"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.defaults&&(usig.defaults={}),usig.defaults.NormalizadorDirecciones={lazyDataLoad:!1,loadFullDatabase:!0,aceptarCallesSinAlturas:!1,callesEnMinusculas:!1,maxPalabras:7},usig.NormalizadorDirecciones=function(e){function t(t,o,s){var a=C.matcheaCalle(t.strCalles);try{var u=n(t,a,o)}catch(c){throw c}if(0==u.length&&a.length>0){t.quitarAvsCalle(),a=C.matcheaCalle(t.strCalles);try{u=n(t,a,o)}catch(c){throw c}if(u=r(u),0==u.length)throw new usig.ErrorCalleInexistenteAEsaAltura(t.strCalles,a,t.strAltura)}else if(0==u.length&&0==a.length){t.quitarPasajes(),a=C.matcheaCalle(t.strCalles);try{u=n(t,a,o)}catch(c){throw c}}return s&&u.length>1&&e.each(u,function(e,n){i(t.strCalles,n.getCalle().nombre)&&(u=[n])}),u}function i(e,t){function i(e){return e=e.replace(/"/g,"").translate("Ã¡Ã©Ã­Ã³ÃºÃ¼ÃÃ‰ÃÃ“ÃšÃœÃ Ã¨Ã¬Ã²Ã¹Ã€ÃˆÃŒÃ’Ã™","aeiouuAEIOUUaeiouAEIOU").toUpperCase().trim(),e=e.split(" ")}return e=i(e),t=i(t),e.length==t.length&&(intersect=e.intersect(t),e.length==intersect.length)?!0:!1}function n(e,t,i){var n=new Array,r=0;if(0!=t.length){for(var o=0;o<t.length;o++){try{t[o].alturaValida(e.strAltura)&&n.push(new usig.Direccion(t[o],e.strAltura))}catch(s){s instanceof usig.ErrorCalleSinAlturas&&p.aceptarCallesSinAlturas&&e.esAlturaSN(e.strAltura)&&n.push(new usig.Direccion(t[o],0)),r++}if(!isNaN(parseInt(i))&&n.length>=parseInt(i))break}if(t.length==r&&0==n.length)throw new usig.ErrorCalleSinAlturas(t[0].toString())}return n}function r(e,t){for(var i=t?t:"getCalle",n=new Array,r=0;r<e.length;r++)C.tieneTramosComoAv(e[r][i]())&&n.push(e[r]);return n}function o(t,i){function n(e,t){return Math.min(e.codigo,t.codigo)+Math.max(e.codigo,t.codigo)}for(var s=C.matcheaCalle(t.strCalles[0]),a=C.matcheaCalle(t.strCalles[1]),u=new Array,c=new Array,l=0;l<s.length;l++){for(var g=0;g<a.length&&!(s[l].codigo!=a[g].codigo&&u.indexOf(n(s[l],a[g]))<0&&s[l].seCruzaCon(a[g])&&a[g].seCruzaCon(s[l])&&(c.push(new usig.Direccion(s[l],a[g])),u.push(n(s[l],a[g])),!isNaN(parseInt(i))&&c.length>=parseInt(i)));g++);if(!isNaN(parseInt(i))&&c.length>=parseInt(i))break}if(0==c.length&&s.length>0&&a.length>0){var f=t.strCalles[0].split(" "),h=t.strCalles[1].split(" ");if(f.indexOf("AV")>=0||f.indexOf("AVDA")>=0||f.indexOf("AVENIDA")>=0){var d=e.extend(!0,{},t);d.quitarAvsCalle();try{var p=o(d,i)}catch(m){throw new usig.ErrorCruceInexistente(t.strCalles[0],s,t.strCalles[1],a)}if(r(p),p instanceof Array)return p}if(h.indexOf("AV")>=0||h.indexOf("AVDA")>=0||h.indexOf("AVENIDA")>=0){var v=e.extend(!0,{},t);v.quitarAvsCalleCruce();try{var y=o(v,i)}catch(m){throw new usig.ErrorCruceInexistente(t.strCalles[0],s,t.strCalles[1],a)}if(r(y,"getCalleCruce"),y instanceof Array)return y}}if(c.length<i)for(var A=C.matcheaCalle(t.strInput),l=0;c.length<i&&l<A.length;)c.push(A[l]),l++;if(0==c.length&&s.length>0&&a.length>0)throw new usig.ErrorCruceInexistente(t.strCalles[0],s,t.strCalles[1],a);return c}function s(e){for(var t=0;t<v[e].length;t++)v[e][t]();"ready"==e&&(v.ready=[])}function a(e,t){for(var i=!1,n=0;n<v[e].length;n++)i=i||v[e][n]==t;i||v[e].push(t)}function u(e,i,n){if("undefined"==typeof n&&(n=!0),"undefined"==typeof jQuery){throw"Error: Este componente requiere jQuery y no se encontro.";return[]}var r=new usig.StringDireccion(e,p.aceptarCallesSinAlturas),s=[];switch(r.tipo){case usig.StringDireccion.CALLE:s=C.matcheaCalle(r.strCalles,i);break;case usig.StringDireccion.CALLE_ALTURA:s=t(r,i,n);break;case usig.StringDireccion.CALLE_Y_CALLE:s=o(r,i),0==s.length&&(r.setearCalleAltura(),s=t(r,i,n));break;case usig.StringDireccion.INVALIDO:s=[]}if(s instanceof Array){if(s.length>0)return s;throw new usig.ErrorCalleInexistente(e)}return s}function c(e,t,i){textoCalle=e.substring(0,t).reverse(),textoCruce=e.substr(t+i),conector=e.substr(t,i);var n=cruce="",r=rCruce=[];try{try{for(var o=1;o<p.maxPalabras;++o){if(cruce=textoCruce.match(re.calle[o])[0],0!=textoCruce.search(re.calle[o]))throw"Direccion no valida";rCruce=u(cruce,2,!1)}}catch(s){cruce=textoCruce.match(re.calle[o-1])[0]}try{for(var o=1;o<p.maxPalabras;++o){if(n=textoCalle.match(re.calle[o])[0].reverse(),0!=textoCalle.search(re.calle[o]))throw"Direccion no valida";r=u(n,2,!1)}}catch(s){n=textoCalle.match(re.calle[o-1])[0].reverse()}return resultados=u(n+conector+cruce,2,!1),1==resultados.length&&h(resultados[0],n+conector+cruce)?{match:resultados[0],pos:e.search(n),len:n.length+conector.length+cruce.length}:!1}catch(a){return!1}return!1}function l(e){textoDireccion=e.reverse();var t="",i=[];try{try{for(var n=1;n<p.maxPalabras;++n){if(t=textoDireccion.match(re.calleAltura[n])[0].reverse(),0!=textoDireccion.search(re.calleAltura[n]))throw"Direccion no valida";i=u(t,2,!1)}}catch(r){t=textoDireccion.match(re.calleAltura[n-1])[0].reverse(),i=u(t,2,!1)}if(h(i[0],t))return{match:i[0],pos:e.search(t),len:t.length}}catch(o){return!1}return!1}function g(e,t){for(var i=[],n=/((\s+y\s+)|(\s+\d+))/gi;matcheo=n.exec(e);)if(res=matcheo[0].match(re.cruceCalles)?c(e,matcheo.index,matcheo[0].length):l(e.substring(0,matcheo.index+matcheo[0].length)),res&&(i.length>0&&res.pos==i[i.length-1].pos&&res.match.toString()==i[i.length-1].match.toString()?res.len>i[i.length-1].len&&(i.pop(),i.push(res)):i.push(res)),t&&!(i.length<t))return i;return i.length>0?i:!1}function f(e){for(var t=["Ã","Ã‰","Ã","Ã“","Ãš","Ãœ"],i=["A","E","I","O","U","U"],n=0;n<t.length;++n)e=e.replace(t[n],i[n]);return e}function h(e,t){for(var i=f(t.toUpperCase()).split(" "),n=e.toString().toUpperCase().replace(/[,.]/g,"").split(" "),r=0;r<i.length-1;r++)for(var o=0;o<n.length-1;o++)if(i[r]==n[o]&&i[r].length>3)return!0;return!1}function d(e,t){return e.pos-t.pos}var p={},m=!1,v={ready:[]},C=null;return re={cruceCalles:/\s+y\s+/gi,calleAltura:[],calle:[]},{normalizar:u,buscarDireccion:function(e){var t=g(e,1);return t?t[0]:!1},buscarDirecciones:function(e,t){var i=g(e,t);return i?i:!1},listo:function(){return C?C.listo():!1},setOptions:function(t){p=e.extend({},p,t),"function"==typeof p.onReady&&a("ready",p.onReady)},init:function(t){p=e.extend({},usig.defaults.NormalizadorDirecciones,t),"function"==typeof p.onReady&&a("ready",p.onReady),C=usig.Callejero.init({lazyDataLoad:p.lazyDataLoad,loadFullDatabase:p.loadFullDatabase,callesEnMinusculas:p.callesEnMinusculas,onReady:s.createDelegate(this,["ready"])});for(var i=1;i<=p.maxPalabras;i++)re.calleAltura[i]=new RegExp("(\\d+(\\s+(\\w|\\d|Ã¡|Ã©|Ã­|Ã³|Ãº|Ã¼|Ã±|'|`|,|\\.)+){"+i+"})","gi"),re.calle[i]=new RegExp("(\\w|\\d|Ã¡|Ã©|Ã­|Ã³|Ãº|Ã¼|Ã±|'|`|,|\\.)+(\\s+(\\w|\\d|Ã¡|Ã©|Ã­|Ã³|Ãº|Ã¼|Ã±|'|`|,|\\.)+){"+(i-1)+"}","gi");return String.prototype.reverse=function(){return this.split("").reverse().join("")},m=!0,this},c:C,inicializado:function(){return m}}}(jQuery);