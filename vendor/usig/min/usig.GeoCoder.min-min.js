jQuery.extendIf=function(e,t){if(e&&t)for(var n in t)"undefined"==typeof e[n]&&(e[n]=t[n]);return e},"undefined"==typeof Ext&&(jQuery.extend(Function.prototype,{createCallback:function(){var e=arguments,t=this;return function(){return t.apply(window,e)}},createDelegate:function(e,t,n){var i=this;return function(){var r=t||arguments;if(n===!0)r=Array.prototype.slice.call(arguments,0),r=r.concat(t);else if("number"==typeof n){r=Array.prototype.slice.call(arguments,0);var o=[n,0].concat(t);Array.prototype.splice.apply(r,o)}return i.apply(e||window,r)}},defer:function(e,t,n,i){var r=this.createDelegate(t,n,i);return e?setTimeout(r,e):(r(),0)},createSequence:function(e,t){if("function"!=typeof e)return this;var n=this;return function(){var i=n.apply(this||window,arguments);return e.apply(t||this||window,arguments),i}},createInterceptor:function(e,t){if("function"!=typeof e)return this;var n=this;return function(){return e.target=this,e.method=n,e.apply(t||this||window,arguments)!==!1?n.apply(this||window,arguments):void 0}}}),jQuery.extendIf(String,{escape:function(e){return e.replace(/('|\\)/g,"\\$1")},leftPad:function(e,t,n){var i=new String(e);for(n||(n=" ");i.length<t;)i=n+i;return i.toString()},format:function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,n){return t[n]})}})),String.prototype.isInteger=function(){return!isNaN(parseInt(this))},String.prototype.isFloat=function(){return!isNaN(parseFloat(this))},String.prototype.toggle=function(e,t){return this==e?t:e},String.prototype.trim=function(){var e=/^\s+|\s+$/g;return function(){return this.replace(e,"")}}(),String.prototype.translate=function(e,t){if(!e.length||!t.length||e.length!=t.length)return this;for(var n=this,i=0;i<e.length;i++)n="string"==typeof e?n.replace(new RegExp(e.charAt(i),"g"),t.charAt(i)):n.replace(new RegExp(e[i],"g"),t[i]);return n},String.prototype.isDigit=function(){return/^\d+$/.test(this)},String.prototype.removeWords=function(e){for(var t=this.split(" "),n=new Array,i=0;i<t.length;i++){n.push(t[i]);for(var r=0;r<e.length;r++)if(n[i]==e[r]){n.pop();break}}return n.join(" ")},jQuery.extendIf(Number.prototype,{constrain:function(e,t){return Math.min(Math.max(this,e),t)},isInteger:function(){return!isNaN(parseInt(this))},isFloat:function(){return!isNaN(parseFloat(this))}}),jQuery.extendIf(Array.prototype,{indexOf:function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]==e)return t;return-1},removeObject:function(e){var t=this.indexOf(e);return-1!=t&&this.splice(t,1),this},binarySearch:function e(t,n){for(var i=0,r=this.length-1,o,s;r>=i;)if(o=parseInt((i+r)/2,10),s=n(this[o],t),0>s)i=o+1;else{if(!(s>0))return o;r=o-1}return-1},inject:function(e,t){for(var n=0;n<this.length;n++)e=t(e,this[n],n);return e},map:function(e,t){for(var n=new Array(this.length),i=0,r=this.length;r>i;i++)i in this&&(n[i]=e.call(t,this[i],i,this));return n},intersect:function(){if(!arguments.length)return[];for(var e=this,t=a2=null,n=0;n<arguments.length;){t=[],a2=arguments[n];for(var i=e.length,r=a2.length,o=0;i>o;o++)for(var s=0;r>s;s++)e[o]===a2[s]&&t.push(e[o]);e=t,n++}return t.unique()},unique:function(){for(var e=[],t=this.length,n=0;t>n;n++){for(var i=n+1;t>i;i++)this[n]===this[i]&&(i=++n);e.push(this[n])}return e}}),Date.prototype.getElapsed=function(e){return Math.abs((e||new Date).getTime()-this.getTime())},"undefined"==typeof usig&&(usig={}),usig.debug=function(e){window.console&&window.console.log&&window.console.log(e)},"undefined"==typeof usig&&(usig={}),jQuery.extendIf(usig,{loadingJs:[],loadingJsListeners:{},__callLoadJsListeners:function(e){for(var t=0,n=usig.loadingJsListeners[e].length;n>t;t++)usig.loadingJsListeners[e][t]()},loadJs:function(e,t){if(usig.loadingJs.indexOf(e)<0){usig.loadingJs.push(e),usig.loadingJsListeners[e]="function"==typeof t?[t]:[];var n=document.createElement("script"),i=document.getElementsByTagName("head")[0],r=!1;n.onload=n.onreadystatechange=function(){return n.readyState&&"complete"!==n.readyState&&"loaded"!==n.readyState||r?!1:(n.onload=n.onreadystatechange=null,r=!0,void usig.__callLoadJsListeners(e))},n.src=e,i.insertBefore(n,i.firstChild)}else usig.loadingJsListeners[e].push(t)},loadCss:function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),"undefined"!=typeof t&&document.getElementsByTagName("head")[0].appendChild(t)},removeJs:function(e){for(var t=document.getElementsByTagName("script"),n=t.length;n>=0;n--)t[n]&&null!=t[n].getAttribute("src")&&-1!=t[n].getAttribute("src").indexOf(e)&&t[n].parentNode.removeChild(t[n])},removeCss:function(e){for(var t=document.getElementsByTagName("link"),n=t.length;n>=0;n--)t[n]&&null!=t[n].getAttribute("href")&&-1!=t[n].getAttribute("href").indexOf(e)&&t[n].parentNode.removeChild(t[n])},Animator:function(e,t,n,i){function r(){e.length>o?(t(e[o]),o++,setTimeout(r,n)):"function"==typeof i&&i()}var o=0;this.stop=function(){o=e.length+1},r()},parseUri:function(e){for(var t=["source","protocol","authority","domain","port","path","directoryPath","fileName","query","anchor"],n=new RegExp("^(?:([^:/?#.]+):)?(?://)?(([^:/?#]*)(?::(\\d*))?)((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?").exec(e),i={},r=0;10>r;r++)i[t[r]]=n[r]?n[r]:"";return i.directoryPath.length>0&&(i.directoryPath=i.directoryPath.replace(/\/?$/,"/")),i},registeredSuggesters:{},registerSuggester:function(e,t){usig.registeredSuggesters[e]=t},createSuggester:function(e,t){if("function"!=typeof usig.registeredSuggesters[e]){throw"Suggester "+e+" is not registered.";return null}return new usig.registeredSuggesters[e](t)}}),jQuery.expr[":"].Contains=function(e,t,n){return jQuery(e).text().toUpperCase().indexOf(n[3].toUpperCase())>=0},jQuery.expr[":"].ContainsFilter=function(e,t,n){if(e.innerHTML.indexOf("data-filter")>=0)var i=e.innerHTML.match(/data-filter\=\"(.*?)\"/)[1].toUpperCase().indexOf(n[3].toUpperCase())>=0;return jQuery(e).text().toUpperCase().indexOf(n[3].toUpperCase())>=0||i},function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;jQuery.Class=function(){},jQuery.Class.create=function(n){function i(){return!e&&i.prototype.init?i.prototype.init.apply(this,arguments):void 0}var r=this.prototype;e=!0;var o=new this;e=!1;for(var s in n)o[s]="function"==typeof n[s]&&"function"==typeof r[s]&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return i.prototype=o,i.prototype.constructor=i,i.extend=arguments.callee,i}}(),"undefined"==typeof usig&&(usig={}),usig.AjaxComponent=function(e){return jQuery.Class.create({init:function(t,n,i){this.name=t;var r=i.dataType||(window.location.host==usig.parseUri(n).authority?"json":"jsonp");this.defaultParams={type:"GET",url:n,dataType:r},this.opts=e.extend({},usig.AjaxComponent.defaults,i),this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") dataType: "+r)},mkRequest:function(t,n,i,r){function o(e,t){clearTimeout(a),this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") Ajax Request Success"),"function"==typeof this.opts.afterServerResponse&&(this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") calling afterServerResponse"),this.opts.afterServerResponse()),t(e)}function s(e,t){this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") Ajax Request Error"),c>=this.opts.maxRetries?(this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") Ajax Request Max Errors Reached"),clearTimeout(a),"function"==typeof t&&t(e)):this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") Ajax Request Error. Retrying... ("+c+")")}function u(t,n){if(null!=t&&0!=t.readyState&&4!=t.readyState)if(this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") Aborting request..."),t.abort(),"function"==typeof this.opts.afterAbort&&(this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") calling afterAbort"),this.opts.afterAbort()),this.opts.maxRetries>c){c++;var i=e.ajax(n);"function"==typeof this.opts.afterRetry&&(this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") calling afterRetry"),this.opts.afterRetry()),this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") Retrying request... ("+c+")"),a=setTimeout(u.createDelegate(this,[i,g]),this.opts.serverTimeout)}else this.opts.debug&&usig.debug("ERROR: Se alcanzo el maximo numero de reintentos al servidor sin exito."),"function"==typeof n.error&&n.error("Se produjo un error al intentar acceder al servidor: "+n.url)}var a=null,c=0;if("function"!=typeof n)return void(this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") success tiene que ser una función que acepte como parámetro el dato solicitado porque puede no estar inmediatamente disponible."));if("undefined"!=typeof i&&"function"!=typeof i)return void(this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") error tiene que ser una función."));var g=e.extend(!0,{},this.defaultParams,{success:o.createDelegate(this,[n],1),error:s.createDelegate(this,[i],1),data:t});r&&(g.url=r);var l=e.ajax(g);return this.opts.debug&&usig.debug(g.dataType+" request..."),"function"==typeof this.opts.afterServerRequest&&(this.opts.debug&&usig.debug("usig.AjaxComponent("+this.name+") calling afterServerRequest"),this.opts.afterServerRequest()),this.opts.serverTimeout>0&&(a=setTimeout(u.createDelegate(this,[l,g]),this.opts.serverTimeout)),l},setOptions:function(t){this.opts=e.extend({},this.opts,t)},getOptions:function(){return this.opts}})}(jQuery),usig.AjaxComponent.defaults={debug:!1,serverTimeout:3e4,maxRetries:1},"undefined"==typeof usig&&(usig={}),usig.Punto=function(e,t){this.x=this.lon=e,this.y=this.lat=t,this.getX=function(){return this.x},this.getY=function(){return this.y},this.toJson=function(){return'{ "x":'+this.x+', "y": '+this.y+" }"},this.toString=function(){return"("+this.x+", "+this.y+")"}},usig.Punto.fromWkt=function(e){var t=/^POINT *\(([0-9]+\.[0-9]+) ([0-9]+\.[0-9]+)\)$/,n=null;return(resMatch=e.match(t))&&(n=new usig.Punto(resMatch[1],resMatch[2])),n},usig.Punto.fromPunto=function(e){return new usig.Punto(e.getX(),e.getY())},usig.Punto.fromObj=function(e){return new usig.Punto(e.x,e.y)},"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.Calle&&(usig.Calle=function(e,t,n,i){this.codigo=e,this.nombre=t,this.alturaValida=function(e){if(n instanceof Array){if(0==n.length){throw new usig.ErrorCalleSinAlturas(this.nombre);return!1}var t=!1;for(a in n)t=t||parseInt(n[a][0])<=parseInt(e)&&parseInt(n[a][1])>=parseInt(e);return t}},this.getTramos=function(){return n},this.toString=function(){return this.nombre},this.seCruzaCon=function(e){return i?i.indexOf(e.codigo)>=0:void 0},this.toJson=function(){return{codigo:this.codigo,nombre:this.nombre}},this.isEqual=function(e){return this.codigo==e.codigo}},usig.Calle.fromObj=function(e){return new usig.Calle(e.codigo,e.nombre)}),"undefined"==typeof usig&&(usig={}),"undefined"==typeof usig.Direccion&&(usig.Direccion=function(e){return function(t,n){var i=null,r=null,o=0,s=null,u="",a=null;if(!(t instanceof usig.Calle))return null;if(i=t,n instanceof usig.Calle)r=n,s=usig.Direccion.CALLE_Y_CALLE;else{if(isNaN(parseInt(n)))return null;s=usig.Direccion.CALLE_ALTURA,o=parseInt(n)}this.getCalle=function(){return i},this.getCalleCruce=function(){return s==usig.Direccion.CALLE_Y_CALLE?r:null},this.getAltura=function(){return o},this.getTipo=function(){return s},this.toString=function(){if(s==usig.Direccion.CALLE_ALTURA)return i.toString()+" "+(o>0?o:"S/N");var e=r.toString(),t=e.match(/^(I|Hi|HI).*/)?" e ":" y ";return i.toString()+t+e},this.setCoordenadas=function(e){a=usig.Punto.fromPunto(e)},this.setSmp=function(e){u=e},this.getCoordenadas=function(){return a},this.getSmp=function(){return u},this.clone=function(){var t=new usig.Direccion(i,n);return e.extend(!0,t,this)},this.toJson=function(){return{tipo:s,calle:i.toJson(),altura:o,calle_cruce:r?r.toJson():null,smp:u,coordenadas:a}},this.isEqual=function(e){var t=e instanceof usig.Direccion&&s==e.getTipo()&&(s==usig.Direccion.CALLE_ALTURA&&i.isEqual(e.getCalle())&&o==e.getAltura()||s==usig.Direccion.CALLE_Y_CALLE&&(i.isEqual(e.getCalle())&&r.isEqual(e.getCalleCruce())||i.isEqual(e.getCalleCruce())&&r.isEqual(e.getCalle())));return t}}}(jQuery),usig.Direccion.CALLE_ALTURA=0,usig.Direccion.CALLE_Y_CALLE=1,usig.Direccion.fromObj=function(e){var t=null;if(void 0!=e.tipo)t=new usig.Direccion(usig.Calle.fromObj(e.calle),e.tipo==usig.Direccion.CALLE_ALTURA?e.altura:usig.Calle.fromObj(e.calle_cruce));else{var n=new usig.Calle(e.cod_calle,e.calle);t=null!=e.cod_calle2?new usig.Direccion(n,new usig.Calle(e.cod_calle2,e.calle2)):new usig.Direccion(n,e.altura)}return void 0!=e.smp&&null!=e.smp&&t.setSmp(e.smp),void 0!=e.coordenadas&&null!=e.coordenadas&&("string"==typeof e.coordenadas?t.setCoordenadas(usig.Punto.fromWkt(e.coordenadas)):t.setCoordenadas(usig.Punto.fromObj(e.coordenadas))),t}),"undefined"==typeof usig&&(usig={}),usig.GeoCoder=function(e){return usig.AjaxComponent.extend({metodos:["interpolacion","puertas","centroide"],init:function(t){var n=e.extend({},usig.GeoCoder.defaults,t);this._super("GeoCoder",usig.GeoCoder.defaults.server,n)},validarMetodo:function(e){if(void 0!=e){if(this.metodos.indexOf(e)>=0)return e}else if(void 0!=this.opts.metodo)return this.opts.metodo;return void 0},onSuccess:function(e,t){t("string"!=typeof e?new usig.Punto(e.x,e.y):e)},geoCodificarDireccion:function(e,t,n,i){if(!(e instanceof usig.Direccion))throw"dir debe ser una instancia de usig.Direccion";e.getTipo()==usig.Direccion.CALLE_ALTURA?this.geoCodificarCodigoDeCalleAltura(e.getCalle().codigo,e.getAltura(),t,n,i):this.geoCodificar2CodigosDeCalle(e.getCalle().codigo,e.getCalleCruce().codigo,t,n)},geoCodificarCalleAltura:function(e,t,n,i,r){if(!t.isInteger())throw"altura tiene que ser un entero";var o={cod_calle:e,altura:t};r=this.validarMetodo(r),void 0!=r&&(o.metodo=r),this.mkRequest(o,this.onSuccess.createDelegate(this,[n],1),i,this.opts.server+"geocoding/")},geoCodificarCodigoDeCalleAltura:function(e,t,n,i,r){if(!e.isInteger())throw"codCalle tiene que ser un entero";if(!t.isInteger())throw"altura tiene que ser un entero";var o={cod_calle:e,altura:t};r=this.validarMetodo(r),void 0!=r&&(o.metodo=r),this.mkRequest(o,this.onSuccess.createDelegate(this,[n],1),i,this.opts.server+"geocoding/")},geoCodificarCalleYCalle:function(e,t,n,i){var r={cod_calle1:e,cod_calle2:t};this.mkRequest(r,this.onSuccess.createDelegate(this,[n],1),i,this.opts.server+"geocoding/")},geoCodificar2CodigosDeCalle:function(e,t,n,i){if(!e.isInteger())throw"codCalle1 tiene que ser un entero";if(!t.isInteger())throw"codCalle2 tiene que ser un entero";var r={cod_calle1:e,cod_calle2:t};this.mkRequest(r,this.onSuccess.createDelegate(this,[n],1),i,this.opts.server+"geocoding/")},reverseGeoCoding:function(e,t,n,i){var r={x:e,y:t};this.mkRequest(r,n,i,this.opts.server+"reversegeocoding/")},getSMP:function(e,t,n,i){var r={cod_calle:e,altura:t};this.mkRequest(r,n,i,this.opts.server+"smp/")}})}(jQuery),usig.GeoCoder.defaults={debug:!1,server:"//ws.usig.buenosaires.gob.ar/geocoder/2.2/",metodo:void 0};